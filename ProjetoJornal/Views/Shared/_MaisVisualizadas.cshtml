@model ProjetoJornal.ViewModel.IndexModel
<div class="title-section">
    <h1>Mais Lidas</h1>
</div>
<div class="owl-wrapper">
    <div class="owl-carousel" data-num="3">
        @foreach (var item in Model.MaisVisualizadas)
        {
            <div class="item">
                <div class="news-post standart-post">
                    <div class="post-image">
                        <a href="single-post">
                            @if (item.FotoByte != null)
                            {
                                var base64 = Convert.ToBase64String(item.FotoByte);
                                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                                <img src="@imgSrc" alt="" />
                            }
                            else
                            {
                                <img alt="" src="@item.Foto" />
                            }
                        </a>
                        <a href="#" class="@item.ClasseCategoria">@item.Categoria</a>
                    </div>
                    <h2><a href="single-post.html">@item.Titulo</a></h2>
                    <ul class="post-tags">
                        <li><i class="lnr lnr-user"></i>by <a href="#">@item.Autor</a></li>
                        <li><a href="#"><i class="lnr lnr-book"></i><span>23 comments</span></a></li>
                    </ul>
                </div>
            </div>
        }
    </div>
</div>
@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            /*-------------------------------------------------*/
            /* =  OWL carousell
            /*-------------------------------------------------*/
            var owlWrap = $('.owl-wrapper');

            if (owlWrap.length > 0) {

                if (jQuery().owlCarousel) {
                    owlWrap.each(function () {

                        var carousel = $(this).find('.owl-carousel'),
                            dataNum = $(this).find('.owl-carousel').attr('data-num'),
                            dataNum2,
                            dataNum3;

                        if (dataNum === 1) {
                            dataNum2 = 1;
                            dataNum3 = 1;
                        } else if (dataNum === 2) {
                            dataNum2 = 2;
                            dataNum3 = dataNum - 1;
                        } else {
                            dataNum2 = dataNum - 1;
                            dataNum3 = dataNum - 2;
                        }

                        carousel.owlCarousel({
                            autoPlay: 10000,
                            navigation: true,
                            items: dataNum,
                            itemsDesktop: [1199, dataNum2],
                            itemsDesktopSmall: [991, dataNum2],
                            itemsTablet: [768, dataNum3],
                        });

                    });
                }
            }
        });
</script>
}
